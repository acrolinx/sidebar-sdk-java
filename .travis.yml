language: java
jdk:
- oraclejdk8          // tells Travis to use Java 8
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
script:
- cd $TRAVIS_BUILD_DIR
- chmod +x ./deploy.sh
deploy:
- provider: script
  script: "./deploy.sh snapshot"
  skip_cleanup: true
  on:
    branch: develop
- provider: script
  script: "./deploy.sh release"
  skip_cleanup: true
  on:
    branch: master
before_install:
- openssl aes-256-cbc -K $encrypted_04827ca67184_key -iv $encrypted_04827ca67184_iv
  -in encrypted.enc -out secring.gpg -d
env:
  global:
  - secure: Lu+KNA17Sa6rIdz2SAGhlJtnh0PfcLn+JflJjsfxtz1I2XpGJ9UHC2o1513Oa73D9oTqP+O7VTxVl1iB97rVOkeHjAuBnPuIx00KyEL1+W8UFwdzpyH/Gm1K6xRPrngimxf+qUy/TzPPFQaEKb1F7FrGR3jL/a1bwyMF1/QU3zyX1J3tlXAGSv+jkcjJao55CNit/efgbm2O6ejxgYziCX33iIx35iNP2owO9rGcwydqJzwWskWbJDSKtVEJLni5snc/joXoiVGLsW15OFqoBO+u6DKx3rp7GTZwY/6wqN3pzyQE+6Not0FuqxSztwtBts5P8j29lmsOUAXhQ2PUpHueU3J3Phciu7MG4p7FhFfbvo2sl9GDjD6fPWW8a6jZCNhYaMlvRrWw39L7Mn5E789Mi3Kv73mo/vr83tuzYuQQ/b/LWGhzYKQadJwnBiyPOizyTYwVbD/1LaXs0tdzATjTA9TdHWP3/kuHbcPZxcitsHi2D4jK3MgnaHTneJ9CmaKgZG7vjBpCZlVc9GS75XBPYdzuLoeERkqcDEB59cArk69tF9QeC9kyNs75QyNFrvXtEFIQIdNYHHUWqqcaMahjHF0PbsHDDXwG0mwZ9TW3C70cH0Oo/VbdPPPy3oV0wjjigacfGyg+cW09cUaIqvmdgYpeQD530nstmLKJJc8=
  - secure: Rx0Wl9BgtbonK1gf1vBmwPDY3JbXUkHV8THEREUwaoyevMrOss+ATaV4Nis1cCT8D7l9KJwCgBvCMpoY65SGWRQc7boMLWcpepGfoY39tnHnFnbY3p+elTjyLC3ylyc1yk3Jpag1HrBe2untXBcz0tETc2URxSHg9aQ1qIf1bLLAddCvQ9w94JOBVGLUqRV8pvsixyclW2wvrAxafPxISBMzIQ3147mfxjKsQMkn5FOtiLToULvwUw0IWXqEa2now8+jZcuXCq6AxtDwNGNDefTtVU7P+hbcOODDJeWNGHpx+C3ch2hCZ3fXcbNCuWS4MBH3Con6YvAAiR2gpzsLol+Kag4SJCJEa7y2u0Krfu+y3r9aXk/VS4F9G4Ja3HH3bsYBvmPB6cJSWM2ZleNvgeJ1H0PxkEoIJeN8Lgq9o0dXHyV+SloryTXEGABSs86+mpmU5V+wJJAytwZbCjQebUvJlWFCOROiDbAqlbu45A0u6VD4gYcmuoQ4jzBeBrC3rgwjCmqPjFtZtUEdr9I4vrC7BfmCz3oKcc3Z7r0DFpf52SjZ5aAzDjkZT6XyOnIVdKXlXniUXoMjpICPpy7A0bO+tzL1APc2sKkeJ/DolbUkdb6BKckvaxz+L47lIwEy09DahLijUCkEfPj9ZS+M9HwwCrRE8FzfBPAgfj51Ezo=
  - secure: ZYw0eRoe+MvEp2nevCw7AQez9B/upfOrbptyCORPiCpb493WEVvVNx5vpjI7G6cS1n0CfPiQ2XdsGWhsYuLxrL9gyylVBEzxDElWUO1Xc3jwa0ybmx0vkXFMLrXCZtGCEaU5AxGu8fhJ4gVcm1Kpz3VGIqk7TjZmQevWD34Nqkc116aCm2Rl1qtyqZqdFUtYcnAOIihruJ0zhS+tRdZ4V8hoGQmPRBl1eluMePxfIt0oLHns+gv4YGsVFZ+LqGg2L4j4oB1fQCI9hQlL0utPfZHeRbo+bogd8vtsVQZnaJnxzk4+Wo7IY9CXMMaSx6EWdXN5mkoowQ8kxxpJqtI7cW2R6RMe53JiydhB9gIXf/tX2jtgow1Jto4kzUZsfLvo3L9CevJB+a9Sv/IoC5lcMF+K34F0n7xpupIIYc/MKh0iGSjSAupdp8PglfGIWigBjPWjs32Kafucakn/UqyKb8GPfF8Mcto0OfM/Y0sNckny99szUsE/lXkmSRdv13L4F/uDGu0gJ4leEUKkxUyP0giwqUQ8ClZ4oHnhdLB8RncbaHSxh4yCZTGCkcgflkVY7tBlMfKSwwOiokedKjY45Z8BhthElAcUosZxRBQh5Armi0TB+wVSKqs6KGh61KzVVpmsdwWJM3kbm+wNH8UGtvUXKvuXa69hMjrM32zaHpI=
